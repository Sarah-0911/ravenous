{"ast":null,"code":"import config from'./config';const yelpApiUrl='https://api.yelp.com/v3/businesses/search?';const options={method:'GET',headers:{accept:'application/json',Authorization:\"Bearer \".concat(config.apiKey)}};const createSearchURL=(term,location,sortBy)=>{return\"https://cors-anywhere.herokuapp.com/\".concat(yelpApiUrl,\"term=\").concat(term,\"&location=\").concat(location,\"&sort_by=\").concat(sortBy);};const searchYelp=async(term,location,sortBy)=>{const searchURL=createSearchURL(term,location,sortBy);try{const response=await fetch(searchURL,options);const data=await response.json();console.log(data);const businessesResult=data.businesses.map(business=>{return{id:business.id,imageSrc:business.image_url,name:business.name,address:business.location.address1,city:business.location.city,state:business.location.state,zipCode:business.location.zip_code,category:business.categories.map(category=>category.title).join(', '),rating:business.rating,reviewCount:business.review_count,url:business.url};});// console.log(businessesResult[1].url);\nreturn businessesResult;}catch(error){console.error(error);}};export default searchYelp;","map":{"version":3,"names":["config","yelpApiUrl","options","method","headers","accept","Authorization","concat","apiKey","createSearchURL","term","location","sortBy","searchYelp","searchURL","response","fetch","data","json","console","log","businessesResult","businesses","map","business","id","imageSrc","image_url","name","address","address1","city","state","zipCode","zip_code","category","categories","title","join","rating","reviewCount","review_count","url","error"],"sources":["/home/sarah/code/Sarah-0911/Codecademy/ravenous/src/utils/yelpApi.js"],"sourcesContent":["import config from './config';\n\nconst yelpApiUrl = 'https://api.yelp.com/v3/businesses/search?';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${config.apiKey}`\n  }\n};\n\nconst createSearchURL = (term, location, sortBy) => {\n  return `https://cors-anywhere.herokuapp.com/${yelpApiUrl}term=${term}&location=${location}&sort_by=${sortBy}`;\n};\n\nconst searchYelp = async (term, location, sortBy) => {\n  const searchURL = createSearchURL(term, location, sortBy);\n  try {\n    const response = await fetch(searchURL, options);\n    const data = await response.json();\n    console.log(data);\n    const businessesResult = data.businesses.map(business => {\n      return {\n        id: business.id,\n        imageSrc: business.image_url,\n        name: business.name,\n        address: business.location.address1,\n        city: business.location.city,\n        state: business.location.state,\n        zipCode: business.location.zip_code,\n        category: business.categories.map(category => category.title).join(', '),\n        rating: business.rating,\n        reviewCount: business.review_count,\n        url: business.url\n      };\n    });\n    // console.log(businessesResult[1].url);\n    return businessesResult;\n  } catch (error) {\n      console.error(error);\n  }\n}\n\nexport default searchYelp;\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,UAAU,CAE7B,KAAM,CAAAC,UAAU,CAAG,4CAA4C,CAE/D,KAAM,CAAAC,OAAO,CAAG,CACdC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1BC,aAAa,WAAAC,MAAA,CAAYP,MAAM,CAACQ,MAAM,CACxC,CACF,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGA,CAACC,IAAI,CAAEC,QAAQ,CAAEC,MAAM,GAAK,CAClD,6CAAAL,MAAA,CAA8CN,UAAU,UAAAM,MAAA,CAAQG,IAAI,eAAAH,MAAA,CAAaI,QAAQ,cAAAJ,MAAA,CAAYK,MAAM,EAC7G,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAOH,IAAI,CAAEC,QAAQ,CAAEC,MAAM,GAAK,CACnD,KAAM,CAAAE,SAAS,CAAGL,eAAe,CAACC,IAAI,CAAEC,QAAQ,CAAEC,MAAM,CAAC,CACzD,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACF,SAAS,CAAEZ,OAAO,CAAC,CAChD,KAAM,CAAAe,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,CACjB,KAAM,CAAAI,gBAAgB,CAAGJ,IAAI,CAACK,UAAU,CAACC,GAAG,CAACC,QAAQ,EAAI,CACvD,MAAO,CACLC,EAAE,CAAED,QAAQ,CAACC,EAAE,CACfC,QAAQ,CAAEF,QAAQ,CAACG,SAAS,CAC5BC,IAAI,CAAEJ,QAAQ,CAACI,IAAI,CACnBC,OAAO,CAAEL,QAAQ,CAACb,QAAQ,CAACmB,QAAQ,CACnCC,IAAI,CAAEP,QAAQ,CAACb,QAAQ,CAACoB,IAAI,CAC5BC,KAAK,CAAER,QAAQ,CAACb,QAAQ,CAACqB,KAAK,CAC9BC,OAAO,CAAET,QAAQ,CAACb,QAAQ,CAACuB,QAAQ,CACnCC,QAAQ,CAAEX,QAAQ,CAACY,UAAU,CAACb,GAAG,CAACY,QAAQ,EAAIA,QAAQ,CAACE,KAAK,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CACxEC,MAAM,CAAEf,QAAQ,CAACe,MAAM,CACvBC,WAAW,CAAEhB,QAAQ,CAACiB,YAAY,CAClCC,GAAG,CAAElB,QAAQ,CAACkB,GAChB,CAAC,CACH,CAAC,CAAC,CACF;AACA,MAAO,CAAArB,gBAAgB,CACzB,CAAE,MAAOsB,KAAK,CAAE,CACZxB,OAAO,CAACwB,KAAK,CAACA,KAAK,CAAC,CACxB,CACF,CAAC,CAED,cAAe,CAAA9B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}