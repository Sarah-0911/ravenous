{"ast":null,"code":"import config from './config';\nconst yelpApiUrl = 'https://api.yelp.com/v3/businesses/search?';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${config.apiKey}`\n  }\n};\nconst createSearchURL = (term, location, sortBy) => {\n  return `${yelpApiUrl}term=${term}&location=${location}&sort_by=${sortBy}`;\n};\nconst search = (term, location, sortBy) => {\n  const searchURL = createSearchURL(term, location, sortBy);\n  return fetch(searchURL, options).then(response => response.json()).then(response => {\n    console.log(response);\n    const businesses = response.map(business => {\n      return {\n        imageSrc: business.image_url,\n        name: business.name,\n        address: `${business.location.address1}\n          ${business.location.address1} ${business.location.address1}\n          `,\n        city: business.city,\n        state: business.state,\n        zipCode: business.zip_code,\n        category: business.categories.title,\n        rating: business.rating,\n        reviewCount: business.review_count\n      };\n    });\n    return businesses;\n  }).catch(err => console.error(err));\n};\nexport default search;","map":{"version":3,"names":["config","yelpApiUrl","options","method","headers","accept","Authorization","apiKey","createSearchURL","term","location","sortBy","search","searchURL","fetch","then","response","json","console","log","businesses","map","business","imageSrc","image_url","name","address","address1","city","state","zipCode","zip_code","category","categories","title","rating","reviewCount","review_count","catch","err","error"],"sources":["/home/sarah/code/Sarah-0911/Codecademy/ravenous/src/utils/yelpApi.js"],"sourcesContent":["import config from './config';\n\nconst yelpApiUrl = 'https://api.yelp.com/v3/businesses/search?';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${config.apiKey}`\n  }\n};\n\nconst createSearchURL = (term, location, sortBy) => {\n  return `${yelpApiUrl}term=${term}&location=${location}&sort_by=${sortBy}`;\n};\n\nconst search = (term, location, sortBy) => {\n  const searchURL = createSearchURL(term, location, sortBy);\n\n  return fetch(searchURL, options)\n    .then(response => response.json())\n    .then(response => {\n      console.log(response)\n      const businesses = response.map(business => {\n        return {\n          imageSrc: business.image_url,\n          name: business.name,\n          address: `${business.location.address1}\n          ${business.location.address1} ${business.location.address1}\n          `,\n          city: business.city,\n          state: business.state,\n          zipCode: business.zip_code,\n          category: business.categories.title,\n          rating: business.rating,\n          reviewCount: business.review_count\n        };\n      });\n      return businesses;\n      }\n    )\n    .catch(err => console.error(err));\n}\n\nexport default search;\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,UAAU;AAE7B,MAAMC,UAAU,GAAG,4CAA4C;AAE/D,MAAMC,OAAO,GAAG;EACdC,MAAM,EAAE,KAAK;EACbC,OAAO,EAAE;IACPC,MAAM,EAAE,kBAAkB;IAC1BC,aAAa,EAAG,UAASN,MAAM,CAACO,MAAO;EACzC;AACF,CAAC;AAED,MAAMC,eAAe,GAAGA,CAACC,IAAI,EAAEC,QAAQ,EAAEC,MAAM,KAAK;EAClD,OAAQ,GAAEV,UAAW,QAAOQ,IAAK,aAAYC,QAAS,YAAWC,MAAO,EAAC;AAC3E,CAAC;AAED,MAAMC,MAAM,GAAGA,CAACH,IAAI,EAAEC,QAAQ,EAAEC,MAAM,KAAK;EACzC,MAAME,SAAS,GAAGL,eAAe,CAACC,IAAI,EAAEC,QAAQ,EAAEC,MAAM,CAAC;EAEzD,OAAOG,KAAK,CAACD,SAAS,EAAEX,OAAO,CAAC,CAC7Ba,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACC,QAAQ,IAAI;IAChBE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;IACrB,MAAMI,UAAU,GAAGJ,QAAQ,CAACK,GAAG,CAACC,QAAQ,IAAI;MAC1C,OAAO;QACLC,QAAQ,EAAED,QAAQ,CAACE,SAAS;QAC5BC,IAAI,EAAEH,QAAQ,CAACG,IAAI;QACnBC,OAAO,EAAG,GAAEJ,QAAQ,CAACZ,QAAQ,CAACiB,QAAS;AACjD,YAAYL,QAAQ,CAACZ,QAAQ,CAACiB,QAAS,IAAGL,QAAQ,CAACZ,QAAQ,CAACiB,QAAS;AACrE,WAAW;QACDC,IAAI,EAAEN,QAAQ,CAACM,IAAI;QACnBC,KAAK,EAAEP,QAAQ,CAACO,KAAK;QACrBC,OAAO,EAAER,QAAQ,CAACS,QAAQ;QAC1BC,QAAQ,EAAEV,QAAQ,CAACW,UAAU,CAACC,KAAK;QACnCC,MAAM,EAAEb,QAAQ,CAACa,MAAM;QACvBC,WAAW,EAAEd,QAAQ,CAACe;MACxB,CAAC;IACH,CAAC,CAAC;IACF,OAAOjB,UAAU;EACjB,CACF,CAAC,CACAkB,KAAK,CAACC,GAAG,IAAIrB,OAAO,CAACsB,KAAK,CAACD,GAAG,CAAC,CAAC;AACrC,CAAC;AAED,eAAe3B,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}