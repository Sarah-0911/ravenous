{"ast":null,"code":"import config from'./config';const yelpApiUrl='https://api.yelp.com/v3/businesses/search?';const options={method:'GET',headers:{accept:'application/json',Authorization:\"Bearer \".concat(config.apiKey)}};const createSearchURL=(term,location,sortBy)=>{return\"https://cors-anywhere.herokuapp.com/\".concat(yelpApiUrl,\"term=\").concat(term,\"&location=\").concat(location,\"&sort_by=\").concat(sortBy);};const searchYelp=async(term,location,sortBy)=>{const searchURL=createSearchURL(term,location,sortBy);try{const response=await fetch(searchURL,options);const data=await response.json();const businessesResult=data.businesses.map(business=>{return{imageSrc:business.image_url,name:business.name,address:\"\".concat(business.location.address1,\"\\n          \").concat(business.location.address2,\" \").concat(business.location.address3),city:business.city,state:business.state,zipCode:business.zip_code,category:business.categories.map(category=>category.title).join(', '),rating:business.rating,reviewCount:business.review_count};});return businessesResult;}catch(err){return console.error(err);}};// https://cors-anywhere.herokuapp.com/corsdemo\nexport default searchYelp;","map":{"version":3,"names":["config","yelpApiUrl","options","method","headers","accept","Authorization","concat","apiKey","createSearchURL","term","location","sortBy","searchYelp","searchURL","response","fetch","data","json","businessesResult","businesses","map","business","imageSrc","image_url","name","address","address1","address2","address3","city","state","zipCode","zip_code","category","categories","title","join","rating","reviewCount","review_count","err","console","error"],"sources":["/home/sarah/code/Sarah-0911/Codecademy/ravenous/src/utils/yelpApi.js"],"sourcesContent":["import config from './config';\n\nconst yelpApiUrl = 'https://api.yelp.com/v3/businesses/search?';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${config.apiKey}`\n  }\n};\n\nconst createSearchURL = (term, location, sortBy) => {\n  return `https://cors-anywhere.herokuapp.com/${yelpApiUrl}term=${term}&location=${location}&sort_by=${sortBy}`;\n};\n\nconst searchYelp = async (term, location, sortBy) => {\n  const searchURL = createSearchURL(term, location, sortBy);\n\n  try {\n    const response = await fetch(searchURL, options);\n    const data = await response.json();\n    const businessesResult = data.businesses.map(business => {\n      return {\n        imageSrc: business.image_url,\n        name: business.name,\n        address: `${business.location.address1}\n          ${business.location.address2} ${business.location.address3}`,\n        city: business.city,\n        state: business.state,\n        zipCode: business.zip_code,\n        category: business.categories.map(category => category.title).join(', '),\n        rating: business.rating,\n        reviewCount: business.review_count\n      };\n    });\n    return businessesResult;\n  } catch (err) {\n      return console.error(err);\n  }\n}\n\n// https://cors-anywhere.herokuapp.com/corsdemo\n\nexport default searchYelp;\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,UAAU,CAE7B,KAAM,CAAAC,UAAU,CAAG,4CAA4C,CAE/D,KAAM,CAAAC,OAAO,CAAG,CACdC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1BC,aAAa,WAAAC,MAAA,CAAYP,MAAM,CAACQ,MAAM,CACxC,CACF,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGA,CAACC,IAAI,CAAEC,QAAQ,CAAEC,MAAM,GAAK,CAClD,6CAAAL,MAAA,CAA8CN,UAAU,UAAAM,MAAA,CAAQG,IAAI,eAAAH,MAAA,CAAaI,QAAQ,cAAAJ,MAAA,CAAYK,MAAM,EAC7G,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAOH,IAAI,CAAEC,QAAQ,CAAEC,MAAM,GAAK,CACnD,KAAM,CAAAE,SAAS,CAAGL,eAAe,CAACC,IAAI,CAAEC,QAAQ,CAAEC,MAAM,CAAC,CAEzD,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACF,SAAS,CAAEZ,OAAO,CAAC,CAChD,KAAM,CAAAe,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClC,KAAM,CAAAC,gBAAgB,CAAGF,IAAI,CAACG,UAAU,CAACC,GAAG,CAACC,QAAQ,EAAI,CACvD,MAAO,CACLC,QAAQ,CAAED,QAAQ,CAACE,SAAS,CAC5BC,IAAI,CAAEH,QAAQ,CAACG,IAAI,CACnBC,OAAO,IAAAnB,MAAA,CAAKe,QAAQ,CAACX,QAAQ,CAACgB,QAAQ,iBAAApB,MAAA,CAClCe,QAAQ,CAACX,QAAQ,CAACiB,QAAQ,MAAArB,MAAA,CAAIe,QAAQ,CAACX,QAAQ,CAACkB,QAAQ,CAAE,CAC9DC,IAAI,CAAER,QAAQ,CAACQ,IAAI,CACnBC,KAAK,CAAET,QAAQ,CAACS,KAAK,CACrBC,OAAO,CAAEV,QAAQ,CAACW,QAAQ,CAC1BC,QAAQ,CAAEZ,QAAQ,CAACa,UAAU,CAACd,GAAG,CAACa,QAAQ,EAAIA,QAAQ,CAACE,KAAK,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CACxEC,MAAM,CAAEhB,QAAQ,CAACgB,MAAM,CACvBC,WAAW,CAAEjB,QAAQ,CAACkB,YACxB,CAAC,CACH,CAAC,CAAC,CACF,MAAO,CAAArB,gBAAgB,CACzB,CAAE,MAAOsB,GAAG,CAAE,CACV,MAAO,CAAAC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAC7B,CACF,CAAC,CAED;AAEA,cAAe,CAAA5B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}